const { runIfMain, l } = require('./lib');

const input = `@.@@@@.@@@@..@@.@....@@@.@@..@@@@....@..@@@..@.@..@@.@@@@..@.@@@@@..@@@.@..@.@@@@.@@@@...@@@@@@...@..@@@.@@@..@.@@@@.@@@.@@.@@.....@@@.@@.
@.@@@.@.@..@@@@@@@@@@@@@@.@@@...@.@@@...@@@@@.@@@.@.@@..@@@.@..@.@@@..@@@...@.@@@@@.@.@.@@@@@@@@.@.@.@@..@@@@@@.@.@..@.@@@.@@.@..@@@@@@@@@
@.@@@...@@.@.@@@.@@@@..@@.@@@@.@@@@......@..@@.@@@@@@@..@.@@@@@@@..@@.@.@.@@@.@@@.@@@.@@@@@@@..@@.@@@@@@@.@@@@@@.@.@@@.@@@.@...@.@@@.@@.@@
.@.@.@.@.@@@...@@@@@@.@@@@.@@@@@@@..@@@..@@@@@@.@@@@@@@@.@....@@.@@@@.@@.@@@@@...@@@.@@..@@@@.@@@@@....@@@.@@.@@@.@@.@@..@@.....@@@.@..@@@
@@..@..@@.@@@...@@@@.@...@.@@@@@..@...@.@...@.@@@..@@@...@..@@.@@@@@@.@..@@@@@.@....@....@..@...@@.@.@@..@..@@@@@@..@@@@@@@@.@..@@.@@@...@
@@@.@@@@@.@@@.@@@.@@.....@.@@..@..@..@@@@.@.@@@.@.@.@@@@@@@.@@@...@@@@@@@..@@@@.@@....@.@@@@@@@..@@@@@@@.@@.@..@@@.@.@.@@.@.@..@..@@@.@...
@.@.@@..@@@@@@@@.@.@@.@@..@@@.@@@@@@.@.@@..@@@.@@.@@@@@@@@@.@@@@..@@@@@@@@.@@@.@.@@@.@@@@@@..@@.@@..@..@..@@.@..@..@..@.@@.@.@@.@@@@..@@@@
@@@@.@@...@@@.@@.@@@@.@@@..@@@@@@@@...@.@@@@@@@@@...@@@@@@@@..@..@@.@.@@@....@.@.@@.@..@.@@...@@@....@@@.@.@@@@@@@@.@..@@@@@@@@@@@....@@..
@.@@@..@@@@...@@..@..@@@...@@.@@.@@..@.@.@@...@.@@@@.@..@@@@@@.@.@.@@@@..@@@@.@@@@.@@.@@.@@@.@@.@@@@@.@.@@@..@@@.@@.@@@@@..@@@@..@.@@...@.
@@@@@@@@..@@@@@@..@@.@@@@...@@@@.@.@.@@@@.@@.@@..@@@@...@.@.@@@.@@@@...@.@@....@@@..@@@@@@@..@@@@@@.@.@@@@@@@..@@@@@@@@....@.@@.@.@..@@@@.
@.@@.@@.@.@@..@@@...@..@.@@@...@..@@..@@.@..@@@@@@@.@@@@@@@@@@@@.@@@.@..@.@@@@@..@..@@.@.@@@@@@@@@@@@.@@@.@.@@..@.@.@@..@@..@@.@@..@@@@@@.
@.@@......@@@@@@.@...@@@..@..@@@.@....@@@.@@@@@..@@@@@.@.@@.@...@@@.@@@@@@@@@@@@.@@.@@.@..@@@.@@@@@...@@@@@@@@.@@@.@@.@@@@@..@.@.@@.@.@@@@
@@@.@@.@@@@@@@@@@.@@@.@@@..@@@@....@..@@.@..@@...@..@...@@@@..@@@..@.@.@..@.@.@..@..@.@@...@@@@@.@@@@@@@@.@@.@@@@..@@.@@.@.@@@@@..@@..@@.@
...@..@@.@.@@@@@.@@@@@.@@.@@@.@..@..@@....@@@..@.@.@....@@@@@.@@@@..@@@@@@@@@.@@..@....@@@@@@@@..@@....@@@@.@.@..@@.@.@@@@.@@.@..@@..@@@.@
@..@@.@....@.@.@.@@..@.@@@.@@...@...@@@@@.@.@..@@.@@...@@@@@@@.@@@@.@@@@.@@@.@@.....@..@.@@.@@@@@.@@@.@@@@@..@.@.@@.@.@.@.@@@.@@@.@@..@@@@
@@@.@.@..@@@.@@@@.@@..@@.@.@@.@.@@@@..@..@@.@@@..@@@.@....@.@@@..@@@@@@@@@@...@...@.@.@@@@.@@@@@..@@@.@.@@@...@.@@@@.@@@...@@@@@@@.@@.@@@@
@@@@.@@@@@@.@..@@@.@@@@@@@@..@.@@@.@@@@@@@@.@..@@..@@@.@..@@@.@.@@@@@@.@.@@@@@@@@@@@.@..@@@@@.@@@.@@@@@.@..@@.@@@@@@@@..@..@.@@.@@@.@@..@@
.@.@.@@.@@.@@@@.@@.@@.@@.@@@.@@.@.@....@@@@@@@@.@..@@@.@.@@@@@@.@@@.@@@@@@..@.@@@@@..@.@@@.@@@..@@@@@@@@@@@...@@@@.@..@..@@@.@...@.@..@.@@
@...@@@.@@@@@.@@@@@@@@..@@..@@@.@@@..@@@.@@@@@@@@.@@.@.@.@@@@@.@@@..@@.@@.@@@@..@@@.@@.@@..@.@@.@.@@.@@@@@.@.@@.@.@.@@@@@...@.@.@.@..@.@..
@.@..@@@@.@@@.@@@@..@.@@@..@.@@.@@..@@@.@@@@...@.@@@@@..@@.@@@@@@@@@..@@@@@..@@@@@@@...@..@@@@.@@.@.@@@@.@@.@@..@@@@.@@..@@.@@.@@.@@....@.
@.@@.@@.@.@@.@....@@..@@@.@.@.@@..@..@.@...@@@@@.@@.@...@@@.@.@@@.@@@@..@.@@@@@.@.@.@@@@...@@.@.@@@@.@@...@@@@..@..@.@@@@@@@@@..@.@@.@.@.@
..@.@@@.@@@@@@@@.@.@.@@@@@@.@@.@..@@@@@.@@.@@.@@.....@@@@@@@.@.@@.@.@@@@@@@@@.@.@..@.@@@@.@@@.@@@..@@@@.@..@@.@@@@..@@.@.@@.@@@..@..@.@@.@
@@..@@..@@@@@@.@@@@..@@.@@..@@@@@@@@....@.@..@@@@@@@@@.@@@.@.@@@..@...@.@.@@@.@@@..@@.@@@.@@@@.@@@@@@..@@.@@@@@......@@@@.@@.@@.@.@.@.@..@
.@@@@@@@@.@@.@..@@.@.@@.@@@@@@@@.@.@@@..@@@@@@.@@@.@.@@@..@@@.@..@@...@@@......@@.@@@@@@@.@.@@......@@@@@@@..@.@@@@..@@.@@@.@..@.@@@..@..@
@@....@@@@@.@@@@.@@@@@@@@@.@@.@@@@.@@....@@....@.@@@.@@@.@..@@.@..@.@@@@.@.@.@@..@....@@.@@...@@@@..@..@.@@@@@.@@..@..@@@.@@@.....@@@@@@@@
.@@@..@@.@..@@@.@@@..@@@@.@..@@@.@.@@@..@..@@..@@.@@@@@@@.@.@@.@@.@....@@..@@@@.@@@@@@@.@.@@.@@@@..@.@@@@@@@@.@@@.@.@@@@..@.@.@.@@.@@.@.@@
.@.@.@@.@@@@@@@@....@@@..@@@.@...@.@..@@@.@@@..@@@@@@@@@@..@@@.....@.@@@@@@@@@.@@@@@@.@@.@@@@@@.@@@@.@@.@@@...@@@@@@.@.@@..@.@.@@@.@..@@@.
..@@.@@@@@@...@..@@@.@.@@..@@@@@.@@@@.@@.@@@@@@@@@@@@@@.@@@.@@@@@.@@...@....@@@@.@@.@@@@.@@@@@@@...@@@.@@.@@.@@.@@..@@.@@@@...@@@.@@.@.@@@
..@@...@@..@.@@@...@.@..@.@@@@@@@@@@@@@@@@@@.@.@@.@@@@@.@.@@..@.@@@@.@..@@.@@@@@@@@@@.@@@..@.@@.@@.@.@..@@.@.@..@.@@@..@@.@@@...@@..@@.@.@
.@.@@.@@@@.@@@.@@@@..@.@...@@@@@@@.@....@.@.@@@.@.@@@.@...@@@@.....@.@@.@@@@.@@@@..@@@...@@@.@@.@@@@@@@.@@@...@@@@@@.@@@@..@@..@...@.@.@@@
@@@@@@@@@@...@.@@.@.@@@.@@@.@@@@@@.@@@@....@.@@@@@@@@..@@@@@.@@.@@@@@@.@@.@@@..@@.@@.@@@.@@.@@.@.@@.@@.@@@.@@..@@@@@@.@@@.@@.@@.@@@@@..@..
..@@@..@@.@@@@@@.@@@@@@.@.@@@@@@@@@@@.@.@@@.@.@@.@.@@@.@@@.@@@.@@@@@@@.@@.@@@.@@@.@.@@@@..@@@.@@@@@@@@@..@@@@@.@..@@..@.@@@@.@@.@...@.@@@@
@@@@.@@....@....@@..@...@@@.@...@@@@@@@@.@@@@..@.@@@@@@@@.@.@@.@@@@@@@@@@@.@.@.@@@@@@@..@.@@.@@@@@.@@.@@.@@@@@@.@.@....@..@@.@@@@.@.@@@.@.
@@@@@@@@.@@.@@@..@@.@@.@@@@.@@@@@@@.@..@@@@..@@@@...@.@@.@.@@..@@@@@.@...@@@@@@@@...@.@@@@@@@@@@.@..@@.@...@@@@.@@@@@@.@@.@@.@.@@@@@@..@@@
@@@..@@.@.@@..@.@@.@@@.@@@@@@@@@@@...@@@@@@@@@..@@.@.@@..@.@@@@.@@.@@@@@@.@.@@.@@.@.@@@@@...@@....@@.@.@.@@@@@@@.@@@@@.@@@@@@@@@.@@@.@.@@@
.@@@...@@@.@@@@..@.@..@@..@.@@@@..@...@@@@.@@@.@.@...@@@@@.@@@.@@@@@@@@.@.@@@.@@@...@.@.@@@@.@@@@.@@@@@@@@..@@...@@@@..@.@@.@@.@@.@.@@.@@@
@@@..@@@..@.@.@@.@.@@@@.@@.@@@@@@@...@..@@..@..@@@@@.@@@@@@@@.@..@.@@...@.@@@@.@@@.@@.@@.@@@@.@...@@.@@@...@.@..@@.@@@@...@@....@.@.@@@@..
...@.@@@@@@.@.@@@..@..@.@.@.@.@..@@.@@.@.@@@@.@...@@.@@@.@.@@@.@@@..@.@@@@..@@.@..@@@@.@@.@@@..@.@@@.@@@@.@.@@@.@@.@@@@@@.@@@@@@@@.@.@@@@@
@...@...@@@..@@..@.@@@@.@@.@.@.@@@.@@@@.@@@.@@....@..@.@.@@.@@@@@@@@@.@@@@...@..@.@@.@.@.....@@@@@@..@@@@..@@...@@@..@@@..@@@@@@@@.@@..@@@
.@@@@@@.@@@@@@.@@@..@@@@@@.@@@@@@.@.@@@@.@@@.@@..@@@@@.@.@@@@@.......@@@@@@@@.@@@@@@@@....@.@...@..@.@.@.@@@@..@@@.@@@@..@@.@..@@@@..@@.@@
.@@@@.@@@@.@@...@@@...@@@@....@..@.@@@@@.@@..@@@.@@.@@.@.@@@@@.@..@..@@@@.@..@@@@@@@.@.@.@.@.@@@..@@@...@@@@@@.@@.@@..@...@@@.@.@.@@@..@@@
.@@...@.@@@@@@@..@@@.@@@@@@...@@@@@@.@...@@.@@@@@@@@@@..@@..@@.@@@.@@@.@..@@@@@.@@@@..@.@.@@@@@@@...@.@@@@@.@@@.@@@@@@@.@@@@@@@.@@@@.@@@@@
@@.@.@@@.@@..@@.@.@@@@@@@@..@@@@.@@.@.@.@.@@@@@@..@.@.@@.@.@.@.@@@@.@@.@@@..@@..@@@.@@.@@.@..@@@@@.@@.@@...@@@@@@.@@.@@@@@@@@.@.@.@@@.@@@@
@@@@..@@@@..@.@@..@.@.@@@@.....@@.@.@@@@@@.@@@@@@@@...@.@@..@.@@@@....@@@@@@@@@@@..@@@@@@@@@.@.....@@@@@@.@@@..@..@.@@.@@@@@.@..@@.@@@@@@.
.@@@@..@@@@@.@.@@@.@.@@.@@@@.@@..@..@@....@@@.@@..@..@.@@@@@..@.@@.@@.@@.@@@@@@@@@.@...@@@....@.@...@@@@.@.@..@@@@@..@@@..@@..@@@@.@..@@@@
..@@..@@@@@@.@@..@@.@@@..@.@@@@@@@.@@@@.@..@@@@.@...@..@@.@.@..@@.@.@@@@@@@.@@..@@.@...@@@@@@@@@@.@@.@@...@.@.@@@.@@@.@@@@.@......@.@.@@@.
.@@@@@...@@@@@@@..@@@@@@@@@@@.@.@@@@.@..@@.@@@@@..@@@@@@@.@@.@@.@@@@@@@@@@@@@@@@@@..@@@@@...@@@@@..@@@..@@@@@@@@.@@.@@.@...@@@@@@@@@.@@@@@
@@..@@@@...@@@@@@@@@.@..@@.@@@@..@.....@@@@...@@.@@...@..@.@.@@@@@@@@@@@@.@@.@.@@@..@@.@..@@@@@@.@@@@.@@@@.@.@@@@.@@@.@@@@@@.@@@@.@..@@.@@
.@@..@@@.@@@.@@@@.@@...@@@@.@....@@@@@@@@@.@@@@.....@.@@@..@@@@@@@.@.@@@@@..@@@@...@@..@@...@.@@@@@@@.@...@...@.@@@..@.@@@@@.@@@@.@@...@@.
@@@@@@..@.@.@.@@@.@.@@@.@@..@@....@.@@.@@.@@@@..@@@.@.@...@@.@....@@@@.@.@@..@@...@@@@@.@@..@@@@.@@@@@@@@..@@@..@.@@.@@@@@..@@@.@@.@.@@.@.
@.@@..@.@@@@..@@..@@.@.@@..@.@...@.@@.....@@@@@@@@@.@@..@.@@.@@@@@.@@@.@@@..@..@@@.@@@@@...@.@@@@@@.@@@@@..@@@@@@@@@@.@@@.@@@@..@..@@@.@@@
@@@@..@@...@@..@@@...@.@.@@.@@.@@@@..@@.@..@@@@@..@@@.@@@@@@@@@@@@..@@.@.@@.@.@@..@...@@.@.@...@@@..@.@@@@.@@.....@..@..@.@@.@.@@@@@@@.@.@
@@..@@.@@@@@@@.@.@@..@@@@@@.@@@@@@.@@@.@..@@@@@.@..@@.@@...@.@@.@@@@@.@@@.@@.@@@@@@@..@@@@..@@.@.@@@@@@.@@.@@@@....@..@@@.@@@@..@@@@@@@..@
@@@.@..@@.@.@.@@@...@@@@.@@@@@@@.@...@@@...@@@@@@@..@@..@@@.@@@.@@.@.@@.@@..@@..@@@.@.@@@.@.@.@@@@.@..@@@@@@@@@@.@.@@@@....@.@.@...@@...@.
@@@@@@@@@...@@@.@@.@@@@@.@@@@@@.@.@@@.@...@@@.@@@.@@@@@@@..@@.@..@..@..@@.@.@@@@@@.@@.@@@@@@@@@..@@..@@@.@@@...@.@.@....@.@@@.@@@@.@...@.@
.@@....@@@@@@.@@...@@@@@@@@...@.@@@@.@.@@@@@@@@@.@@.@@@@.@@@@@@..@.@@@@@@........@@@@@.@@.@@@@@@..@@@..@..@.@@@@@@.@@@.@@@.@.@@.@@........
.@@@@...@..@@@@@@@@@...@..@@..@@@.@@@.@.@@@.@@@@@@..@@@@.@..@@@@..@.@@.@@@@..@@@.@@@@.@@@.@@..@@@@.@...@@....@@....@.@...@@.@....@.@.@@..@
@@..@@.@@.@..@@@@.@.@@.@@@@@.@...@@@@@.@@@@.@@@@.@@.@...@.@.@@@.@@@..@.@.@@@.@@@..@@@@@..@@@@.@..@..@.@@@@@.@@@.@@@.@@@..@@.@@@@.@@@.@....
@@.@@@@.@..@..@@@@.@@.@@.@.@.@@@.@......@.@.@@.@..@..@@@.@@@@@@@@@@@@.@..@@@@.@.@@@@@@@@...@@@@@.@@@@@@@.@.@.@@@.@.@.@@.@.@.@@..@@.@@@@@@.
@.@@@@@@@@@..@@@.@..@.@@@@@@@.@...@@@.@.@@.@.@..@@@@.@@....@@@@@@.@@@@@@@..@@..@.@@@..@@.@@@@..@@@@..@.@.@@@....@.@@@.@@...@..@.@@..@.@...
...@@.@@@@@@.@@.@@.@...@.@.@.@@@@.@.@@@@@.@@.@@@@.@.@@@..@.@@@@....@....@@..@..@@@.@@..@@..@.@@.@..@@@@..@@..@@@@@@.@@@.@@..@@@@.@.@@@@@@@
@@.@..@@@@@@@.@.@@@@@@.@@@@@@@..@@@@.@@@@@@.@@@@@@@@@.@.@.@@@.@@..@@@@.@..@@@@@@..@@@...@@@@@@@.....@.@@..@.@@@@.@@@@.@@@..@@.@@@..@.@@@..
...@..@@@..@@@@@@.@@.@@@@@@@..@......@@.@@.@..@@@@@.@@.@@@@@@.@.@@@@@.@@@@@..@..@@.@..@@..@..@@@@@@..@@@..@@.@...@.@@@@@@@@.@@@@@@@@@@.@.@
.@@@@@@.@@@@@@@@.@@.@@@@..@@@@...@..@@@@.@@@@..@@@.@@@@@.@.@..@@@..@@@@@@@@.@@.@@@@..@.@.@@@.@@@@.@.@@@@@@@.@@@@@@@@.@@@@..@..@@@.@@@@@@@.
...@@@@@@@@.@.@@@.@@@.@@@.@@@@@@@@@@@@@@.@@@.@.@.@@@@.....@@.@..@.@@@@@@.@.@@.@@.@.@.@@@..@@@@@.@@@@@@@@.@@@@@@@..@@@..@@.@..@.@@.@@@@@@.@
@@...@@@....@@..@.@@..@@.@@@.@@@@@@@@@@@@@@..@@@@@@.@@@@.@@@..@.@.@@@@@@@@@@..@@@@@.@@@@@@@@..@@@@@@@.@@.@@.@@.@.@@@@@@@@@.@.@@.@.@@..@..@
.@.....@@@@.@...@..@@@.@@.@@...@@@@@@...@@@..@@@.@@@@@@.@..@.@@@@@@@@@..@@.@@@@@@@.@.@@.@@.@..@@.@@..@.@.@.@.@@@@@@.@@@@@@.@@@@..@@@@@@@@@
@@.@@.@@..@.@@...@@..@@@@.@@@@.@@@@@@@@@@@@@@@@@.@..@.@@@@@.@@.@@@@.@.@@.@@@@@@@@@...@@.@@.@@.@@@@@@@@.@@.@..@@@@@.@@.@.@@@@@@.@@@.@@@@.@@
@@@@@@.@.@.@@.@...@@@@@....@@.@@@@@.@@@...@@..@@@..@.@@@..@.@@.@@.@@@@@..@@@@...@@@@@....@@.@.@@@@@.@.@@@@@@@.@@.@@.@.@@@.@.@@.@@@@@@..@@@
.@@...@@@....@..@.@@@@.@@.@.@@.@@@.@@.@@@..@@@..@@@@@.@.@.@.@@.@@@..@@..@@.@@@@@.@@.@@.@@@@@@@..@.@@@@..@.@@...@@@@@@@@@@@@@.@@@@..@@@@.@@
.@@@.@@@@@.@@@@@.@@.@.@@@@@@.@@.@@@.@@@...@@@.@@@..@@@@@..@..@@@@@@@@@@.@@@@@@@@@.@@.@..@@..@.@.@..@...@@@@.@@.@@..@@.@@@@...@@..@@@.@.@@.
@@@@@@@@@@@@@@...@..@@@@@@.@@@@@.@@@@.@...@@.@@@@@.@@@@@@@@.@@@@@@@.@@....@.@.@.@@@.@..@..@@@@..@...@@@@@@@@...@@@@@..@@@@.@.@@..@...@@@.@
@@@.@@..@@.@.@.@@@@@@@@.@..@.@@@.@@@@@..@@.@@@@@@@.@.@.@@@@.@.@.@@.@@@@@@@..@@@.@.@@.@..@@@@@@..@@....@...@@@@@@@..@@..@@@.@@@@@..@@..@.@@
@@.@.@@@@@.@@@@...@@@.@@..@..@@@.@@@@@@@@...@...@@@@@@..@@...@.@@@@@@@@.@@@@@.@@@@@@@..@.@@@@.@@.@..@..@@.@@@.@@.@@@...@.@.@@.@.@.@@@@@@@@
@@@@@@.@.@@@@@..@@@.@@...@@@@..@@@..@..@.@..@.@.@..@@@.@.@.@@.@@@@.@....@@....@@@@@.@@@@@@.@.@..@@@@@@@@.@@@@@@@.@@.@@@..@@....@@..@..@@..
@@.@@.@@@@@@@.@@.@@.@.@@@.@@.@..@.@@..@@..@@@.@@..@..@.@@@@@.@@@.@@@..@.@@.@@@......@.@@@.@@.@@@@@@@@@@..@@@.....@@@.@..@@@@@..@....@@..@@
@@@@@@@@.@@@@.@@.@.@@@@@...@.@@@.@.@@@@@.@@@.@@@@.@@...@@@@@@@@@@.@@@@.@..@@@...@@@@@...@@..@.@@@@@@.@..@@@@.@@.@@@@@@@@@@@@....@@@@@@@.@.
.@.@...@@@.@.....@@@.@@@..@..@@@@....@@...@@.@@@..@@@@@..@.@.@.@@@@.@@.@....@.@.@@.@..@@.@@@.@@@@@@.@@@@....@@..@@.@@..@@@@@@..@@.@@@.@@..
@@.@@@@@@@@@@..@@@.@@@@@..@......@@@...@.@..@@@@@@@@@@@@@@@@@@.@@@..@@@.@.@@@@@....@.@..@@..@@@@@.@.@.@.@@@.@.@@.@@@.@@@@@...@@.@@@@@.@@.@
@@@@@@@@.@@.@..@@@.@@@..@@.@@@@@.@@@@@@...@@@@..@..@..@@@@@@..@@@@@@@.@@@@@@.@@.@...@@@@@@.@@..@..@...@@.@...@@.@@.@@@@@.@@@@@@..@.@.@@@.@
.@@.@@@@@.@....@.@@@@@.@@..@.@@@@@@.@.@@...@.@.@@.@@....@.@@@@@......@@..@.@@@@..@@@@@@.@@@@.@.@.@@.@.@@.@.@@...@.@@..@@@..@@.@@.@@@@@@.@@
@@@@.@@@@@@....@..@@.@@..@..@....@.@@@.@@@@.@@@@@.@.@@@@.@.@@.@@@@...@..@..@@.@@.@@@@.@@.@@@...@@@@@@.@@.@.@@@..@@@@...@@@.@@@@.@@@@...@@.
@@@@@@@@@@...@@@..@.@..@@@@@.@.@@@@@@@.@.@....@@@.@.@@@@@.@@@@@...@@.@@@@.@@@.@..@@@.@.@.@@.@@@.@.@@@@@......@@@@..@@..@.....@@..@@@@@@.@@
@@..@.@@.@...@.@.@@@@@@@.@.@@@.@.@@@@@.@@.@@@@.@.@@@..@@..@.@@@.@@@@@....@..@.@@@@.@@@@@.@@@@.@.@.@@@..@@.@.@@@.@@@@..@.@.@..@@@@.@.@@@@@@
@@@@@.@.@@@@@@@@@..@.@..@.@@@@@@@@...@.@@@..@@@@.@@@@@@@@@@@.@@@@@@.@@...@.@.@@@@@.@@.@@@.@@.@@@@@@@.@..@@@@..@@.@@@.@@@.@@@@@......@@.@@@
@@@@@.@@@...@@@...@@@@@.@.@.@.@@@@@@@@@.@@.@@@...@@@@@...@@@@@@..@.@@@@@.@.@.@@@@@...@@@@@@.@.@..@.@@@@@@.@.@@.@@@@@.@@@.@@@@@.@...@@..@..
@@@@@@@@.@.@.@@@.@@@@@.@@@@@@@.@@@@@@@@..@@@@.@.@@..@@..@@@..@.@@@..@@..@@@..@..@.@@@@.@..@@@@@..@@@@@..@.@..@@@.@..@@@@@@@@@@@@@.@..@.@@.
@@@@@@.@@@.@@.@@..@@@@..@@@@@.@.@@@@@.@@@.@@@@..@@.@@@.@@.@@@..@.@@@@@.@@@..@..@@..@@@@@@@@@.@@@@@.@.@.@@@.@@@.@@.@.@@.@@.@.@@@...@..@...@
@@@@@@.@.....@@@@@@@.@@.@@.@@@.@@@@...@@@..@@.@@@@.@@@.@@@@@...@@@@..@.@@@@..@@.@@.@....@@..@@..@@.@@@..@.@..@@@@@..@.@@@..@@@@.@@.@@.@@@@
@@@.@@@..@@@@.@.@@@.@@..@@@@@.@.@@@@@@@@@@.....@@.@@@.@@....@@@.@.@.@@@@@@@@..@@@.@@.@@@.@@@.@@@...@@@.@@@@@@@@..@@.....@@.@@@.@@.@@@.@.@@
@@@.....@@@@..@@@.@@@@@.@@...@@@@.@.@@@.@@.@@@.@@.@@@@@..@...@..@@@@@.@@@...@@.@...@.@@@@.@@..@@.@@..@@...@..@...@..@@@@...@..@@.@@.@@.@..
.@.@.@@.@..@@@@@.@.@@@@..@.@@@@@@@.@.@...@@@@@@..@.@..@@@@.@.@@@@@.@@@.@.@@.@@@@..@@@...@@@@@..@.@@.@@.@..@@.@.@@@@.@@@@..@.@@.@@@@@@@@...
.@@..@@@@@....@@.@@.@.@@.@@@@.@@@@@@@@@@@.@@@@@@@.@@...@@..@.@.@@@@@.@@@@@.@@@....@@.@.@@.@.@.@@.@.@@@....@@@@@.@.@@@@@@@@.@@@@@.@.@@@@@@.
...@@@@@@@.@@@@@@@@@.@.@@@@.@@@..@@.@...@@@@...@.@@@@@.@@@@..@@.@@.@@@..@.@@@@@.@@.@@@..@..@..@.@@@@@.@@....@@..@.@@@@@.@...@@.@.@@..@.@.@
@......@.@...@@@@.@@@@@@..@@..@.@@.@...@.@@.@@@@@@@@@.@@@...@@@.....@..@.@@.@@@@.@@@..@...@.@@@.@..@@@@...@@.@....@@@@@@@@@.@@@@...@@@..@@
@@@.@@@@@@@..@@@@@@..@@@.@@@...@..@.@@.@@@@@@@@@@@.@@@.@@.@@@@@..@..@@..@@..@@@@.@.@@@@@@@@.@@..@@@.@@@.@@@@...@@@@@@..@..@......@@.@@@@@.
.@.@...@.@@@@@@.@@@@..@.@..@..@@.@@@..@.@.@@.@@..@@..@@..@@..@@@@@.@.@.@.@@.@@@@@..@@.@@.@@.@.@@@@@..@@@@.@@@.@.@@.@@@.@@..@@@@@@..@@@@@@.
@@.@@@...@@....@@.@@@@@.@.@.@.@@@@@.@@@@.@@@.@@@.@@@@@@.@@@@.@..@...@@..@@@@..@@@.@.@.@@@@.@.@@.@@@@.@@@@.....@@@@@@@@.@.@@@@@@.@..@@@@@..
@@@@@.@@@.@.@@@..@@@@.@@..@.@@@.@@@@..@@@..@@..@@.@...@@@@..@@@@@..@..@@@@.@.@.@..@@@@.@..@@..@.@.@@@..@@@.@@@@.@@@..@.@@@.@.@@@@@.@.@@..@
.@@@@@.@@@@..@@@.@@@@@..@@@.@..@@..@@.@.@@.@@.@@@@..@...@@@.@@@@.@@...@@@.@@@@..@..@..@@.@..@@@@@.@.@...@@@@@@.@.@..@.@..@@@.@@@@.@@.@@@.@
.@@@@@@.@...@@..@@@@@@@@@@.@@@.@.@...@@@@@@.@.@@@@@.@.@..@.@@@@@...@@...@@@...@@@@@@.@@@@@@..@.@@@@@@@.@..@.@.@.@@@.@@.@@.@@@@@@@.@.@@@.@@
.@@@@@@@@.@..@@@.@.@@@@@@..@.@...@...@@@@.@@@@@.@....@@@@@...@@@.@@@@@@.@@@@.@.@@@@.@@@.@@@.@......@..@@@@@....@...@@@@....@@@..@..@@@.@.@
@.@.@@.@@.@@@@@.@@.@.@@@@@@@@.@.@@.@..@..@.@@@@.@.@@@@.@@.@@@@@@@@@@@@.@...@@@@@@....@@.@@.@@.@@.@@.@.....@@@@.@@@..@@...@@@@@.@@..@@.@@@@
@@@...@.@@@@@@.@@.@@@@@.@.@@...@..@..@@.@@.@.@.@@@@..@....@@@@@@@@@@@@@@.@@@@.@@@@..@@@@@@.@@@.....@.@@@@@@@@@@.@..@@@@.@.@.@.@.@@@...@.@@
@.@.@@@@@.@.@....@@@.@@@@@.@.@@@..@@@@..@@..@@..@..@@.@@@.@...@@@@..@@@.....@..@@@@@.@@@@.@.@@.@..@@.@.@@..@@@.@.@.....@@@@@@@@@....@@.@..
@.@@@.@@@@@..@@@@@@@@@@.@@@@..@@...@@..@@.@.@..@.@..@@@@.@.@@.@@@.@@.@@..@...@@@@@@.@.@@.@....@@@@@@@@@.@@@@@@@.@@@@@.@.@@@@@@@@@@@@@@@@@@
@@..@.@@@@@.@.@@..@@.@@@@.@@@@..@@@.@@@@@@@@@@@@@@.@...@@@@@.@.@@.@@..@@.@.@@.@@@.@@@.@@@.@@@.@@@@@@@..@@.@@@@@..@@@.@...@@...@@@@@@...@@@
@@@@@@.@@@@@@@@@..@@@...@@@..@.@@@.@@@@.@@@@@@@.@.@.@@@@.@@@@@@.@@.@@@.@@@@.@@@..@..@@.@@.@@.......@..@@@@@.@@.@@..@@@@@@@.@@@@@@....@@@.@
.@@@@@.@.@@..@@@.@@@..@@.@@@.@.@@@@@.@.@@@..@@@.@..@.@..@@@..@@.@.@.@.@.@@@@......@@@@@.@@@@@@@@@@@@@@.@.@@@@@...@@..@@@@@@@@@.@..@@@.@..@
.@@@@@@@.@@.@@.@..@@@.@@@@..@@@..@@@.@..@@.@@@@.@@..@@@..@@..@.@.@.@...@@@@.@...@...@@@@@@@@@.@.@.@.@@@@@@@@@.@@..@@@.@.@.@.@@@@@..@@@...@
.@.@@@@@@@@@....@.@@@@.@@@@.@@.@.@@@@@@@@@@@@@@..@@.@@@@.@@@@@@.@@@@@@.@@@@@...@@@@@@@@@.@...@.@..@..@@@..@@.@@.@@@.@@...@.@@.@@..@@@@..@.
.@@.@@@.@..@.@@@@..@@.@@..@@@@@@@.@@...@.....@@.@.@..@..@.@.@.@@@@@@.@.@@@@@@.@@@..@@@...@@@@@@@...@.@@@@.@@@@@.@@@@.@..@.@@.@...@@@@@.@@@
@@@.@@..@@@@@@@.@@.@.@.@@@@...@@@@@@@@..@@@@@@@@@@.@.@.@@@..@@@.@@@.@@@@@@@@@.@.@@@@@@.@@@.@.@@@@@.@@@@.@@@@@...@...@@@..@@.@@@.@.@.@@@@.@
@.@@.@@@.@..@@.@...@@@@.@...@@@@..@@@@@@@@@.@.@@@.....@@...@@@@@@..@.@..@.@.@@.......@@.@..@@@..@@..@.@.@@@@.@@..@@..@@@@@@@@@..@.@.@@@@.@
.@@@@.@@.@@...@@@@..@@@..@@@@@@.@@..@@@@..@@@.@@@@@@@.@@@.@@@@@@@.@@....@@.@.@.@...@@..@@@@@@@.@.@@.@@@@@@..@@@..@@..@@@..@@@@@@@@@@.@@.@.
@.@@.....@@@@@..@.@.@..@@@.@@..@@...@@.@.@@@@.@@@@@@@.@@@@@@@@@@@...@@@@@.@...@...@..@@..@.@...@@@@@@..@@@@.@@@.@..@.@@@.@@.@@@.@@.@@@.@@@
.@@@@@...@.@@@@@.@.@@@@@.@@@@@.@@.@....@.@.@..@@@@..@@@.@@.@@@@@.....@.@@@@@@.@@.@@.@@....@@@.@@@@.@@..@@@@@@...@@.@.@@.@@@@@.@@..@@@.@@..
.@...@.@.@@.@@@@..@.@.@@@..@...@@.@.@.@@@@@..@@.@.@.@.@@@@@@@@.@@.@@@@@@.@.@.@.@@@.@@.@@..@@@@@@..@@.@@@@@@@.@@.@...@.@@@@.@.@.@@@@@@@@.@@
@@@@.@@@@@@@@@@.@.@@@@@@..@@@@@.@.@@@@@@..@@@..@.@.@@@@@@@@..@@@@@@@..@@@@..@@@@..@.@...@.@.@@..@@@@@@@@...@..@@@@@.@@@@@@@.@@@.@@@.@@.@.@
...@@..@@@@@@.@@.@@@@@.@.@..@@..@@...@@..@@@@@@..@@@@@.@@@@.@@.@@.@@@.@@..@@.@..@@...@@@@@.@@@@..@.@@@@.@.@@...@.@@.@@..@.@......@@@@@.@@@
@@@@@@@@.@@.@@@@@.@@@..@@@@@@@@@@@@@@...@@@@@@..@@.@@@.@@@@@.@..@@@@@@@@.@@@@.@@@@@@..@@@..@@@@.@..@@.@..@@@@@@@@.@@.@@@@..@.@@..@..@.@@@.
@..@@@@..@.@@@@@@.@@@@.@@@@.@@@.@.@@@.@@...@@.@..@..@@.@@@@.@.@.@..@.@@@@@@@..@.@@..@@@@@@..@@@@@@..@@.@.@@.@@@.@@.@@..@..@...@@@@@@@@@@..
@@..@@.@@..@@@.@@.....@@.@@.@.@@.@.@@@@@.@@@@@.@...@@.@.@...@.@.@@@..@..@.@@..@@@@@@@.@@..@@@@@@.@@@@.@@@.@@@.@@.@@..@.@...@.@.@@@..@@@@@.
@@.@@.@.@@@.@@.@.@@.@@@@@@@@.@@.@..@..@@@.@@@@@.@.@@@.@@..@..@...@@.@@@@..@.@@.@.@.@@@@@.@@@@@.@@@@.@@@...@@@..@@@.@..@@...@@@@.@@@.@.@@@@
@.@@@@@@@@.@@@@@@...@@.@.@@.@@.@.@@...@..@.@..@.@..@....@@@@@@@.@@..@@.@.@@@@....@.@@.@@@.@.@..@@@@@@@.@@.@@..@...@.@.@.@@@.@.@@.@@@@@.@.@
@@..@@@@@..@@@@@@@@....@@@@.@.@@..@@......@@@@@@.@@@.@..@.@.@.@.@@.@....@.@@@..@@...@.@@@.@..@@@@@.@...@@@@@@.@@@..@@.@@..@@.@@.@@.@.@@@@.
@.@@.@@.@@.@@.@@@@.@@@.@@@@.@.@@@.@.@....@@.@@..@@..@@@...@...@..@@@@@@@@@..@@.@@@@@..@@@@@.@..@@@.@@.@@@.@...@@@@@....@.@@@@@..@@@@@@@@@.
@..@@.@@@@@.@@.@@@....@..@@@.@@@@@@@.@...@@.@@.@@..@@@@..@.@.@....@@.@@@@@@@@@@..@.@.@@@@@.@@.@@..@.@@.@...@@..@@@@@@@@@@@@@@@@@.@@.@@@.@@
@@@@@@@@@.@@@@@@@.@@..@.@@@@@@@@@@@@@.@@.@@@..@@@@@@@.@@@.@@@.@@@.@@@.@@@@@@...@.@.@@@..@.@.@@@.@@@@@...@.@.@.@@@@.@@.@..@@@.@..@.@@@.@@..
@@@.@..@.@@@..@@.@....@..@@..@.@@@@@@@@@@@@@@.@@.@@.@.@@@@....@.@@.@@..@@..@@@@@.@..@@@..@.@.@.@.@@..@..@.@.@@@.....@@@@@@@@@..@..@.@.@.@@
@.@..@@.@..@@..@@.@@@@.@@@@@.@@....@@@@@@@.@.@@..@@...@.@.....@.@.@@.@@@.@@.@@..@..@@@@.@@@@@@@...@@@@@...@@@@@.@@@.@.....@.....@.@@.@..@.
@..@.@.@@...@@@.@@@@.@@..@@@..@.@@.@@@..@..@.@..@@....@@@@@@@@@@@@.@@.@@.@..@@@.@@@@@@@@@...@.@...@..@@@..@@..@.@.@.@.@.@@@@@@...@@@@@..@@
@@@..@@@@@@@@@@@@@@.@..@@@..@@..@.@@@@@@@@@@@....@...@.@@@@@@@@..@@@@@.@@...@@..@...@@.@.@@@@@@.@@.@@@@@@@@@.@@.@.@@.@@....@...@@@@.@...@@
@@.@@.@@.@@@@@@.....@@@@..@@@@...@@...@@.@@..@..@@@.@.@@.@@@@@@..@.@..@@@..@..@...@@@@@.@.@@.....@@@.@.@@@@@@@.....@@@@@@.@.@@@.@@@@.@..@.
@@@@@@.@@@@@@@..@@@@...@@@@@.@@.@@@@@.@....@@@..@.@@.@@.@..@@.@@..@@@@..@@..@@@@@@....@@.@@@@@@.@..@@@.@.@.......@@@@..@@.@.@@@@@@@@@@..@@
@.@..@@@@@@@@@@.@@@.@.@.@@@@@....@@@...@@@@@@@@.@@@.@@@@@.@@@@@@@@@@@@@@.@@..@@..@@.@@@@@.@..@.@@.@@.@@@.@@.@@@.@@..@@@.@@@@@@@.@@@.@@@.@.
@@@..@..@@.@@...@@@....@@@@@.@.@.@@@@@@@@@.@@@..@.@.@.@@@@@@@@@@@@@@@@@@.@..@@@.@@@@.@@@...@..@@@@@@@....@.@@..@@@.@@@@@.@.@..@@.@@@.@@@@@
@@@@@@@.@@..@.@..@@@.@@...@@@..@@@@@.@.@.@..@@.@@.@@@..@@@@.@@@..@.@.@@@@@@@@.@@.@.@@@.@@@@@@@@..@@@@@@@@@@.@@.@..@@@...@@@@@.@@@@@.@@@.@@`;

function Arr(input) {
  const lines = input.split('\n');
  const X = lines[0].length;
  const Y = lines.length;
  const arr = [...Array(X)]
      .map((_, x) => ([...Array(Y)]
          .map((__, y) => lines[y].charAt(x) === '@' ? 1 : 0))
      );

  this.X = X;
  this.Y = Y;
  this.get = (x, y) => {
    if (x < 0 || x >= X) return 0;
    if (y < 0 || y >= Y) return 0;
    return arr[x][y];
  };
  this.remove = (x, y) => arr[x][y] = 0;
  this.countAround = (x, y) => {
    // xxx
    // x.x
    // xxx
    return (
        this.get(x + 0, y - 1) +
        this.get(x + 1, y - 1) +
        this.get(x + 1, y + 0) +
        this.get(x + 1, y + 1) +
        this.get(x + 0, y + 1) +
        this.get(x - 1, y + 1) +
        this.get(x - 1, y + 0) +
        this.get(x - 1, y - 1)
    );
  }
}

function part1(input, liveRun) {
  const arr = new Arr(input);

  let hits = 0;

  for (let x = 0; x < arr.X; x++) {
    for (let y = 0; y < arr.Y; y++) {
      if (arr.get(x, y) && arr.countAround(x, y) < 4) {
        hits += 1;
      }
    }
  }

  return hits;
}

function part2(input, liveRun) {
  const arr = new Arr(input);

  let hits = 0;
  let hitsThisRound;

  do {
    hitsThisRound = 0;
    for (let x = 0; x < arr.X; x++) {
      for (let y = 0; y < arr.Y; y++) {
        if (arr.get(x, y) && arr.countAround(x, y) < 4) {
          hits += 1;
          hitsThisRound += 1;
          arr.remove(x, y);
        }
      }
    }
  } while (hitsThisRound > 0)

  return hits;
}

part1.desc = '';
part1.tests = [{
  input: `..@@.@@@@.
@@@.@.@.@@
@@@@@.@.@@
@.@@@@..@.
@@.@@@@.@@
.@@@@@@@.@
.@.@.@.@@@
@.@@@.@@@@
.@@@@@@@@.
@.@.@@@.@.`,
  result: 13,
}];

part2.desc = '';
part2.tests = [43];

runIfMain(module, input, part1, part2);

module.exports = {
  input,
  part1,
  part2,
};
